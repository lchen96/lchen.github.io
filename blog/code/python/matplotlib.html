<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>matplotlib | Lei Chen&#39;s Homepage</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/disc_favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.68111185.css" as="style"><link rel="preload" href="/assets/js/app.e19d5aed.js" as="script"><link rel="preload" href="/assets/js/2.a3bd5069.js" as="script"><link rel="preload" href="/assets/js/15.fc5579cb.js" as="script"><link rel="prefetch" href="/assets/js/10.ff64dcfd.js"><link rel="prefetch" href="/assets/js/11.abcc6822.js"><link rel="prefetch" href="/assets/js/12.15624b80.js"><link rel="prefetch" href="/assets/js/13.8227123f.js"><link rel="prefetch" href="/assets/js/14.d39479a5.js"><link rel="prefetch" href="/assets/js/16.40cfa9cb.js"><link rel="prefetch" href="/assets/js/17.59f44fa4.js"><link rel="prefetch" href="/assets/js/18.e2fff532.js"><link rel="prefetch" href="/assets/js/19.a888442d.js"><link rel="prefetch" href="/assets/js/20.b4b095c5.js"><link rel="prefetch" href="/assets/js/21.3b0f9f6b.js"><link rel="prefetch" href="/assets/js/22.3dcf4f9f.js"><link rel="prefetch" href="/assets/js/23.62bed7a8.js"><link rel="prefetch" href="/assets/js/24.3f827dd3.js"><link rel="prefetch" href="/assets/js/25.d22ad365.js"><link rel="prefetch" href="/assets/js/3.9c502e1c.js"><link rel="prefetch" href="/assets/js/4.1c712331.js"><link rel="prefetch" href="/assets/js/5.ad171e62.js"><link rel="prefetch" href="/assets/js/6.0afe8710.js"><link rel="prefetch" href="/assets/js/7.54991339.js"><link rel="prefetch" href="/assets/js/8.0cf19c90.js"><link rel="prefetch" href="/assets/js/9.7740fafc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.68111185.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/disc_favicon.ico" alt="Lei Chen's Homepage" class="logo"> <span class="site-name can-hide">Lei Chen's Homepage</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog" class="mobile-dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/papershare/" class="nav-link">
  Paper Sharing
</a></li><li class="dropdown-item"><!----> <a href="/blog/note/" class="nav-link">
  Notes
</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link router-link-active">
  Code
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog" class="mobile-dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/papershare/" class="nav-link">
  Paper Sharing
</a></li><li class="dropdown-item"><!----> <a href="/blog/note/" class="nav-link">
  Notes
</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link router-link-active">
  Code
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/blog/code/python/" class="sidebar-heading clickable router-link-active open"><span>python</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/code/python/packages.html" class="sidebar-link">packages</a></li><li><a href="/blog/code/python/pytorch.html" class="sidebar-link">pytorch</a></li><li><a href="/blog/code/python/pandas.html" class="sidebar-link">pandas</a></li><li><a href="/blog/code/python/matplotlib.html" aria-current="page" class="active sidebar-link">matplotlib</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#创建图表" class="sidebar-link">创建图表</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#基本图像绘制" class="sidebar-link">基本图像绘制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#散点图-scatter" class="sidebar-link">散点图 scatter</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#折线图-plot" class="sidebar-link">折线图 plot</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#柱状图-bar" class="sidebar-link">柱状图 bar</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#箱线图-boxplot" class="sidebar-link">箱线图 boxplot</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#热力图-matshow" class="sidebar-link">热力图 matshow</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#图表设置" class="sidebar-link">图表设置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#基本设置-grid" class="sidebar-link">基本设置 grid</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#标题-title" class="sidebar-link">标题 title</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#坐标轴名称-label" class="sidebar-link">坐标轴名称 label</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#坐标轴刻度-tick" class="sidebar-link">坐标轴刻度 tick</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#图例-legend" class="sidebar-link">图例 legend</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#添加文本-text" class="sidebar-link">添加文本 text</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#子图间距-adjust" class="sidebar-link">子图间距 adjust</a></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#颜色-标记-线型-设置-color-marker-linestyle" class="sidebar-link">颜色|标记|线型|设置 color marker linestyle</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/code/python/matplotlib.html#文件导出" class="sidebar-link">文件导出</a></li></ul></li><li><a href="/blog/code/python/pyecharts.html" class="sidebar-link">pyecharts</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/code/vue/" class="sidebar-heading clickable"><span>vue</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="matplotlib"><a href="#matplotlib" class="header-anchor">#</a> matplotlib</h1> <p>官方文档: <a href="https://matplotlib.org/" target="_blank" rel="noopener noreferrer">https://matplotlib.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="创建图表"><a href="#创建图表" class="header-anchor">#</a> 创建图表</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token triple-quoted-string string">&quot;&quot;&quot;风格设置&quot;&quot;&quot;</span>
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;whitegrid&quot;</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;中文显示设置 方式1&quot;&quot;&quot;</span>
font <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'family'</span><span class="token punctuation">:</span><span class="token string">'serif'</span><span class="token punctuation">}</span> <span class="token comment">#设置使用的字体（需要显示中文的时候使用）</span>
matplotlib<span class="token punctuation">.</span>rc<span class="token punctuation">(</span><span class="token string">'font'</span><span class="token punctuation">,</span><span class="token operator">**</span>font<span class="token punctuation">)</span> <span class="token comment">#设置显示中文，与字体配合使用</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;负数显示设置&quot;&quot;&quot;</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot; 创建图表
m: 子图行数  n: 子图列数  a: 图像宽度  b: 图像高度
&quot;&quot;&quot;</span>
fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;显示图表&quot;&quot;&quot;</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="基本图像绘制"><a href="#基本图像绘制" class="header-anchor">#</a> 基本图像绘制</h2> <h3 id="散点图-scatter"><a href="#散点图-scatter" class="header-anchor">#</a> 散点图 scatter</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
x (list): x 坐标列表
y (list): y 坐标列表
label (int/str): 属于的系列 (便于绘制图例)
alpha (number): 透明度 0-1
edgecolors (str): 散点轮廓线颜色
&quot;&quot;&quot;</span>
ax<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> c<span class="token operator">=</span>colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span>labels<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> edgecolors<span class="token operator">=</span><span class="token string">'none'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="折线图-plot"><a href="#折线图-plot" class="header-anchor">#</a> 折线图 plot</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
x (list): x 坐标列表
y (list): y 坐标列表
label (int/str): 属于的系列 (便于绘制图例)
linestyle/ls (str): 折线形状类型
linewidth/lw (str): 折线宽度
alpha (number): 透明度 0-1
marker (str): 标记类型
ms (number): 标记大小
mec: 标记边缘颜色 marker edge color
mfc: 标记内部颜色 marker face color
&quot;&quot;&quot;</span>
ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> label<span class="token operator">=</span>labels<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span>colors<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span>linestyles<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> lw<span class="token operator">=</span>lws<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>

ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> s2_array<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token operator">=</span>colors<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">&quot;--&quot;</span><span class="token punctuation">,</span> label<span class="token operator">=</span>labels<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.4</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">&quot;o&quot;</span><span class="token punctuation">,</span> ms<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;折线平滑数据预处理
n (int): 将区间数据切分的段数
&quot;&quot;&quot;</span>
<span class="token keyword">from</span> scipy<span class="token punctuation">.</span>interpolate <span class="token keyword">import</span> make_interp_spline
xnew <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token builtin">min</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
ysmooth <span class="token operator">=</span> make_interp_spline<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">(</span>xnew<span class="token punctuation">)</span>
</code></pre></div><h3 id="柱状图-bar"><a href="#柱状图-bar" class="header-anchor">#</a> 柱状图 bar</h3> <div class="language-python extra-class"><pre class="language-python"><code>ax<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token operator">=</span>width<span class="token punctuation">,</span> label<span class="token operator">=</span>labels<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span>colors<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="箱线图-boxplot"><a href="#箱线图-boxplot" class="header-anchor">#</a> 箱线图 boxplot</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
array (2D array): 箱线图数据 箱子数*箱子内数据条目数
labels (list): 系列列表
widths (float): 箱子宽度百分比
&quot;&quot;&quot;</span>
bp <span class="token operator">=</span> ax<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>array<span class="token punctuation">,</span> labels<span class="token operator">=</span>labels<span class="token punctuation">,</span> widths<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> patch_artist<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment">## 箱体设置</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span> box <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>bp<span class="token punctuation">[</span><span class="token string">'boxes'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	box<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>color<span class="token operator">=</span>colors_box<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.05</span><span class="token punctuation">)</span>
	box<span class="token punctuation">.</span>set_facecolor<span class="token punctuation">(</span>colors_box<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.05</span><span class="token punctuation">)</span>   
	box<span class="token punctuation">.</span>edgecolor<span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span>
<span class="token comment">## 轮廓线设置</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span> whisker <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>bp<span class="token punctuation">[</span><span class="token string">'whiskers'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	whisker<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">&quot;lightgray&quot;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="热力图-matshow"><a href="#热力图-matshow" class="header-anchor">#</a> 热力图 matshow</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
aw (2D array/list) : 权重矩阵 m*n
&quot;&quot;&quot;</span>
ax<span class="token punctuation">.</span>matshow<span class="token punctuation">(</span>aw<span class="token punctuation">,</span> interpolation<span class="token operator">=</span><span class="token string">'nearest'</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">'YlOrRd'</span><span class="token punctuation">)</span> <span class="token comment"># 根据  aw 权重矩阵绘制热力图</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>j<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">,</span> l <span class="token keyword">in</span> np<span class="token punctuation">.</span>ndenumerate<span class="token punctuation">(</span>aw<span class="token punctuation">)</span><span class="token punctuation">:</span>
    ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span>k<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token string">'{:0.3f}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span> <span class="token comment"># 为每个小方块添加文字</span>
</code></pre></div><h2 id="图表设置"><a href="#图表设置" class="header-anchor">#</a> 图表设置</h2> <h3 id="基本设置-grid"><a href="#基本设置-grid" class="header-anchor">#</a> 基本设置 grid</h3> <div class="language-python extra-class"><pre class="language-python"><code>ax<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>   <span class="token comment"># 关闭坐标轴格</span>
</code></pre></div><h3 id="标题-title"><a href="#标题-title" class="header-anchor">#</a> 标题 title</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
title (str): 子图标题
fontsize (int): 字体大小
x (float): x 轴百分比位置
y (float): y 轴百分比位置
&quot;&quot;&quot;</span>
ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span>title<span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="坐标轴名称-label"><a href="#坐标轴名称-label" class="header-anchor">#</a> 坐标轴名称 label</h3> <div class="language-python extra-class"><pre class="language-python"><code>ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span>xlabel<span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span>ylabel<span class="token punctuation">)</span>
</code></pre></div><h3 id="坐标轴刻度-tick"><a href="#坐标轴刻度-tick" class="header-anchor">#</a> 坐标轴刻度 tick</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;设置坐标轴刻度显示
tick_spacing(int/float): 坐标轴间隔
ticks_list(list): 坐标轴刻度
&quot;&quot;&quot;</span>
ax<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_major_locator<span class="token punctuation">(</span>ticker<span class="token punctuation">.</span>MultipleLocator<span class="token punctuation">(</span>tick_spacing<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 设置坐标轴间隔</span>
ax<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_locator<span class="token punctuation">(</span>ticker<span class="token punctuation">.</span>MultipleLocator<span class="token punctuation">(</span>tick_spacing<span class="token punctuation">)</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_xticklabels<span class="token punctuation">(</span>ticks_list<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token comment"># 设置坐标轴刻度</span>
ax<span class="token punctuation">.</span>set_yticklabels<span class="token punctuation">(</span>ticks_list<span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;设置坐标轴刻度精度
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>ticker <span class="token keyword">as</span> ticker
<span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>ticker <span class="token keyword">import</span> FormatStrFormatter
ax<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_formatter<span class="token punctuation">(</span>FormatStrFormatter<span class="token punctuation">(</span><span class="token string">'%.2f'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="图例-legend"><a href="#图例-legend" class="header-anchor">#</a> 图例 legend</h3> <div class="language-python extra-class"><pre class="language-python"><code>plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>ncol<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> loc<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> frameon<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment">## 设置 legend 字体</span>
leg <span class="token operator">=</span> plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get_legend<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#或leg=ax.get_legend()</span>
ltext <span class="token operator">=</span> leg<span class="token punctuation">.</span>get_texts<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>setp<span class="token punctuation">(</span>ltext<span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">13</span><span class="token punctuation">,</span>fontweight<span class="token operator">=</span><span class="token string">'bold'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="添加文本-text"><a href="#添加文本-text" class="header-anchor">#</a> 添加文本 text</h3> <div class="language-python extra-class"><pre class="language-python"><code>plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> text<span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="子图间距-adjust"><a href="#子图间距-adjust" class="header-anchor">#</a> 子图间距 adjust</h3> <div class="language-python extra-class"><pre class="language-python"><code>plt<span class="token punctuation">.</span>subplots_adjust<span class="token punctuation">(</span>left<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">,</span> bottom<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> right<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> top<span class="token operator">=</span><span class="token number">0.85</span><span class="token punctuation">,</span> wspace<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span> hspace<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token comment"># 按照百分比调整子图间距</span>
</code></pre></div><h3 id="颜色-标记-线型-设置-color-marker-linestyle"><a href="#颜色-标记-线型-设置-color-marker-linestyle" class="header-anchor">#</a> 颜色|标记|线型|设置 color marker linestyle</h3> <p>参考: <a href="https://www.biaodianfu.com/matplotlib-plot.html" target="_blank" rel="noopener noreferrer">https://www.biaodianfu.com/matplotlib-plot.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>常用颜色缩写:</p> <ul><li>b: 蓝色 (blue)</li> <li>g: 绿色 (green)</li> <li>r: 红色 (red)</li> <li>c: 青色 (cyan)</li> <li>m: 品红 (magenta)</li> <li>y: 黄色 (yellow)</li> <li>k: 黑色 (black)</li> <li>w: 白色 (white)</li></ul> <p>常用cmap名称:</p> <ul><li>GnBu: 蓝绿色调</li> <li>YlOrRd: 红橙色调</li> <li>hot_r: 红色调</li></ul> <p>常用标记符号:</p> <ul><li><p>.: 点 (point marker)</p></li> <li><p>,: 像素点 (pixel marker)</p></li> <li><p>o: 圆形 (circle marker)</p></li> <li><p>v: 朝下三角形 (triangle_down marker)</p></li> <li><p>^: 朝上三角形 (triangle_up marker)</p></li> <li><p>&lt;: 朝左三角形 (triangle_left marker)</p></li> <li><blockquote><p>: 朝右三角形 (triangle_right marker)</p></blockquote></li> <li><p>1: (tri_down marker)</p></li> <li><p>2: (tri_up marker)</p></li> <li><p>3: (tri_left marker)</p></li> <li><p>4: (tri_right marker)</p></li> <li><p>s: 正方形 (square marker)</p></li> <li><p>p: 五边星 (pentagon marker)</p></li> <li><p>*: 星型 (star marker)</p></li> <li><p>h: 1号六角形 (hexagon1 marker)</p></li> <li><p>H: 2号六角形 (hexagon2 marker)</p></li> <li><p>+: +号标记 (plus marker)</p></li> <li><p>x: x号标记 (x marker)</p></li> <li><p>D: 菱形 (diamond marker)</p></li> <li><p>d: 小型菱形 (thin_diamond marker)</p></li> <li><p>|: 垂直线形 (vline marker)</p></li> <li><p>_: 水平线形 (hline marker)</p></li></ul> <p>常用线型:</p> <ul><li>-: 实线(solid line style)</li> <li>–: 虚线(dashed line style)</li> <li>-.: 点划线(dash-dot line style)</li> <li>:: 点线(dotted line style)</li></ul> <h2 id="文件导出"><a href="#文件导出" class="header-anchor">#</a> 文件导出</h2> <div class="language-python extra-class"><pre class="language-python"><code>fig<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">&quot;attn.png&quot;</span><span class="token punctuation">,</span> transparent<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">600</span><span class="token punctuation">)</span>
fig<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">'3-temporal.pdf'</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">600</span><span class="token punctuation">)</span> <span class="token comment"># 存储为pdf文件 便于论文显示位图</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/code/python/pandas.html" class="prev">
        pandas
      </a></span> <span class="next"><a href="/blog/code/python/pyecharts.html">
        pyecharts
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e19d5aed.js" defer></script><script src="/assets/js/2.a3bd5069.js" defer></script><script src="/assets/js/15.fc5579cb.js" defer></script>
  </body>
</html>
